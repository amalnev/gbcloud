## Отчет по домашнему заданию к уроку №3.

### Выполненные работы
1. Реализованы клиент и сервер на фреймворке Netty. Таким образом, в программе сейчас есть 2 
реализации клиента и сервера. Можно выбирать ту или иную реализацию при помощи аннотаций 
**@Netty** или **@Nio**.
2. Добавлена зависимость от JPA / Hibernate в SE-окружении. Реализовано хранение пользователей
в базе данных. В протокол, на клиентскую и серверную часть добавлена функциональность 
аутентификации пользователей по логину / паролю.
3. В проект добавлен модуль хранения программных настроек, разрабатывавшийся для сетевого чата.
Этот модуль позволяет работать с глобальными параметрами программы, такими как TCP-порт и адрес
сервера, логин и пароль, различные таймауты и т.д. Модуль позволяет считывать эти параметры из командной
строки и/или Preferences API. Последние использованные значения сохраняются в Preferences API
для последующего использования.
4. Доработана логика, касающаяся агентов и диалогов (см. пояснения к предыдущему отчету). 
Добавлено автоматическое завершение неактивных диалогов по таймауту.
5. В настоящее время сервер и клиент работают следующим образом. 
    1. Сервер прослушивает TCP-порт на входящие соединения.
    2. Клиент соединяется на серверный TCP-порт и запускает аутентификационный диалог.
    3. Сервер принимает предложенный аутентификационный диалог, попытки начать любой другой
    диалог через данный сокет отвергаются с отправкой соответствующего сообщения.
    4. Серверный агент, участсвующий в аутентификационном диалоге, проверяет представленные
    клиентом учетные данные и отправляет в сторону клиента ответ.
    5. В случае успеха сервер начинает участвовать в других диалогах, инициирующихся через
    данное соединение.
    6. Клиент в случае успеха начинает с определенной периодичностью запускать эхо-диалог, 
    заключающийся в отправке на сервер эхо-сообщения и приеме ответа от сервера.
6. Для того, чтобы добавить в программу новую функциональность (например, передачу файлов или
что-либо другое), в настоящее время нужно:
    1. Реализовать классы сообщений, которые будут инкапсулировать данные, пересылаемые между 
    клиентом и сервером для достижения желаемого результата.
    2. Реализовать класс клиентского агента, реализующий логику обмена этими сообщениями со 
    стороны клиента. 
    3. Реализовать класс серверного агента, реализующий логику обмена этими сообщениями со 
    стороны сервера.
    4. В обоих случаях нужно отнаследоваться от абстрактного базового класса, в конструкторе
    класса-агента зарегистрировать интерес в получении сообщений того или иного типа путем
    вызова **expectMessage(Class<? extends IMessage>)** и реализовать 
    метод **processMessage**, в который и будут поступать запрошенные сообщения по мере их
    прибытия с удаленной сторны. При этом система гарантирует, что данный метод получит только
    сообщения, относящиеся к данному диалогу и только тех типов, котрые интересны данному агенту.
    Все остальные ситуации будут обработаны автоматически.
7. В принципе, дальнейшая работа над проектом будет заключаться в реализации клиентских и 
серверных агентов по описанной выше схеме, реализующих требуемую функциональность.